"use strict";

define(['../src/index'], function (tt) {
  var testCases = {}; // =======================================================================
  // property 1
  // =======================================================================

  testCases.property1 = {
    label: 'Property 1',
    execute: function execute(ctx) {
      var obj = {
        a: 1
      };
      tt.initProperty(obj, 'a');
      var oA = new tt.createPropertyObserver(obj, 'a');
      obj.setA(2);
      oA.delete();
    }
  }; // =======================================================================
  // calculated property 1
  // =======================================================================

  testCases.calculatedProperty1 = {
    label: 'Calculated Property 1',
    execute: function execute(ctx) {
      var o1 = {
        a: 1
      };
      tt.initProperty(o1, 'a');
      var o2 = {};
      tt.createCalculatedProperty(o2, 'b', function () {
        return o1.getA() + 10;
      });
      var o3 = {};
      tt.createCalculatedProperty(o3, 'c', function () {
        return o2.getB() + 100;
      });
      var o3Observer = tt.createPropertyObserver(o3, 'c');
      ctx.assertEquals(o3.c, 111, 'c=111');
      o1.setA(2);
      ctx.assertEquals(o3.c, 112, 'c=112');
      o3Observer.delete();
    }
  };
  return testCases;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3Rlc3QvdGVzdENhbGN1bGF0ZWRQcm9wZXJ0eS5qcyJdLCJuYW1lcyI6WyJkZWZpbmUiLCJ0dCIsInRlc3RDYXNlcyIsInByb3BlcnR5MSIsImxhYmVsIiwiZXhlY3V0ZSIsImN0eCIsIm9iaiIsImEiLCJpbml0UHJvcGVydHkiLCJvQSIsImNyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIiLCJzZXRBIiwiZGVsZXRlIiwiY2FsY3VsYXRlZFByb3BlcnR5MSIsIm8xIiwibzIiLCJjcmVhdGVDYWxjdWxhdGVkUHJvcGVydHkiLCJnZXRBIiwibzMiLCJnZXRCIiwibzNPYnNlcnZlciIsImFzc2VydEVxdWFscyIsImMiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQyxDQUFDLGNBQUQsQ0FBRCxFQUFtQixVQUFVQyxFQUFWLEVBQWM7QUFFbkMsTUFBSUMsU0FBUyxHQUFHLEVBQWhCLENBRm1DLENBSW5DO0FBQ0E7QUFDQTs7QUFFQUEsRUFBQUEsU0FBUyxDQUFDQyxTQUFWLEdBQXNCO0FBQ2xCQyxJQUFBQSxLQUFLLEVBQUUsWUFEVztBQUVsQkMsSUFBQUEsT0FBTyxFQUFFLGlCQUFVQyxHQUFWLEVBQWU7QUFFcEIsVUFBSUMsR0FBRyxHQUFHO0FBQ05DLFFBQUFBLENBQUMsRUFBRTtBQURHLE9BQVY7QUFJQVAsTUFBQUEsRUFBRSxDQUFDUSxZQUFILENBQWdCRixHQUFoQixFQUFxQixHQUFyQjtBQUNBLFVBQUlHLEVBQUUsR0FBRyxJQUFJVCxFQUFFLENBQUNVLHNCQUFQLENBQThCSixHQUE5QixFQUFtQyxHQUFuQyxDQUFUO0FBRUFBLE1BQUFBLEdBQUcsQ0FBQ0ssSUFBSixDQUFTLENBQVQ7QUFFQUYsTUFBQUEsRUFBRSxDQUFDRyxNQUFIO0FBRUg7QUFmaUIsR0FBdEIsQ0FSbUMsQ0EwQm5DO0FBQ0E7QUFDQTs7QUFFQVgsRUFBQUEsU0FBUyxDQUFDWSxtQkFBVixHQUFnQztBQUM1QlYsSUFBQUEsS0FBSyxFQUFFLHVCQURxQjtBQUU1QkMsSUFBQUEsT0FBTyxFQUFFLGlCQUFVQyxHQUFWLEVBQWU7QUFFcEIsVUFBSVMsRUFBRSxHQUFHO0FBQUVQLFFBQUFBLENBQUMsRUFBRTtBQUFMLE9BQVQ7QUFDQVAsTUFBQUEsRUFBRSxDQUFDUSxZQUFILENBQWdCTSxFQUFoQixFQUFvQixHQUFwQjtBQUVBLFVBQUlDLEVBQUUsR0FBRyxFQUFUO0FBQ0FmLE1BQUFBLEVBQUUsQ0FBQ2dCLHdCQUFILENBQTRCRCxFQUE1QixFQUFnQyxHQUFoQyxFQUFxQyxZQUFZO0FBQzdDLGVBQU9ELEVBQUUsQ0FBQ0csSUFBSCxLQUFZLEVBQW5CO0FBQ0gsT0FGRDtBQUlBLFVBQUlDLEVBQUUsR0FBRyxFQUFUO0FBQ0FsQixNQUFBQSxFQUFFLENBQUNnQix3QkFBSCxDQUE0QkUsRUFBNUIsRUFBZ0MsR0FBaEMsRUFBcUMsWUFBWTtBQUM3QyxlQUFPSCxFQUFFLENBQUNJLElBQUgsS0FBWSxHQUFuQjtBQUNILE9BRkQ7QUFJQSxVQUFJQyxVQUFVLEdBQUdwQixFQUFFLENBQUNVLHNCQUFILENBQTBCUSxFQUExQixFQUE4QixHQUE5QixDQUFqQjtBQUNBYixNQUFBQSxHQUFHLENBQUNnQixZQUFKLENBQWlCSCxFQUFFLENBQUNJLENBQXBCLEVBQXVCLEdBQXZCLEVBQTRCLE9BQTVCO0FBQ0FSLE1BQUFBLEVBQUUsQ0FBQ0gsSUFBSCxDQUFRLENBQVI7QUFDQU4sTUFBQUEsR0FBRyxDQUFDZ0IsWUFBSixDQUFpQkgsRUFBRSxDQUFDSSxDQUFwQixFQUF1QixHQUF2QixFQUE0QixPQUE1QjtBQUNBRixNQUFBQSxVQUFVLENBQUNSLE1BQVg7QUFFSDtBQXZCMkIsR0FBaEM7QUEwQkEsU0FBT1gsU0FBUDtBQUNILENBekRLLENBQU4iLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoWycuLi9zcmMvaW5kZXgnXSwgZnVuY3Rpb24gKHR0KSB7XG5cbiAgICB2YXIgdGVzdENhc2VzID0ge307XG5cbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgIC8vIHByb3BlcnR5IDFcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdGVzdENhc2VzLnByb3BlcnR5MSA9IHtcbiAgICAgICAgbGFiZWw6ICdQcm9wZXJ0eSAxJyxcbiAgICAgICAgZXhlY3V0ZTogZnVuY3Rpb24gKGN0eCkge1xuXG4gICAgICAgICAgICB2YXIgb2JqID0ge1xuICAgICAgICAgICAgICAgIGE6IDFcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHQuaW5pdFByb3BlcnR5KG9iaiwgJ2EnKTtcbiAgICAgICAgICAgIHZhciBvQSA9IG5ldyB0dC5jcmVhdGVQcm9wZXJ0eU9ic2VydmVyKG9iaiwgJ2EnKTtcblxuICAgICAgICAgICAgb2JqLnNldEEoMik7XG5cbiAgICAgICAgICAgIG9BLmRlbGV0ZSgpO1xuXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAvLyBjYWxjdWxhdGVkIHByb3BlcnR5IDFcbiAgICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gICAgdGVzdENhc2VzLmNhbGN1bGF0ZWRQcm9wZXJ0eTEgPSB7XG4gICAgICAgIGxhYmVsOiAnQ2FsY3VsYXRlZCBQcm9wZXJ0eSAxJyxcbiAgICAgICAgZXhlY3V0ZTogZnVuY3Rpb24gKGN0eCkge1xuXG4gICAgICAgICAgICB2YXIgbzEgPSB7IGE6IDEgfTtcbiAgICAgICAgICAgIHR0LmluaXRQcm9wZXJ0eShvMSwgJ2EnKTtcblxuICAgICAgICAgICAgdmFyIG8yID0ge307XG4gICAgICAgICAgICB0dC5jcmVhdGVDYWxjdWxhdGVkUHJvcGVydHkobzIsICdiJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvMS5nZXRBKCkgKyAxMDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbzMgPSB7fTtcbiAgICAgICAgICAgIHR0LmNyZWF0ZUNhbGN1bGF0ZWRQcm9wZXJ0eShvMywgJ2MnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG8yLmdldEIoKSArIDEwMDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbzNPYnNlcnZlciA9IHR0LmNyZWF0ZVByb3BlcnR5T2JzZXJ2ZXIobzMsICdjJyk7XG4gICAgICAgICAgICBjdHguYXNzZXJ0RXF1YWxzKG8zLmMsIDExMSwgJ2M9MTExJyk7XG4gICAgICAgICAgICBvMS5zZXRBKDIpO1xuICAgICAgICAgICAgY3R4LmFzc2VydEVxdWFscyhvMy5jLCAxMTIsICdjPTExMicpO1xuICAgICAgICAgICAgbzNPYnNlcnZlci5kZWxldGUoKTtcbiAgICAgICAgICAgIFxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB0ZXN0Q2FzZXM7XG59KTtcblxuXG5cblxuIl19