"use strict";

define(['../../../src/index', './Muscle', './MuscleBasic'], function (tt, Muscle, MuscleBasic) {
  var MuscleCollection = tt.core.defineDerivedClass(Muscle, {
    init: function init(params) {
      Muscle.prototype.init.apply(this, arguments);
      this.muscles = params.muscles || [];
      this.postDeSerialize();
    },
    postDeSerialize: function postDeSerialize() {
      tt.createReducedListProperty(this, 'totalMuscles', this.muscles, function (accu, muscle) {
        return accu + muscle.getTotalMuscles();
      }.bind(this), 0);
    },
    createMuscleCollection: function createMuscleCollection(params) {
      params.parent = this;
      var muscle = new MuscleCollection(params);
      this.muscles.push(muscle);
      return muscle;
    },
    createMuscleBasic: function createMuscleBasic(params) {
      params.parent = this;
      var muscle = new MuscleBasic(params);
      this.muscles.push(muscle);
      return muscle;
    }
  });
  return MuscleCollection;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NhbXBsZXMvc3BvcnRzL21vZGVsL011c2NsZUNvbGxlY3Rpb24uanMiXSwibmFtZXMiOlsiZGVmaW5lIiwidHQiLCJNdXNjbGUiLCJNdXNjbGVCYXNpYyIsIk11c2NsZUNvbGxlY3Rpb24iLCJjb3JlIiwiZGVmaW5lRGVyaXZlZENsYXNzIiwiaW5pdCIsInBhcmFtcyIsInByb3RvdHlwZSIsImFwcGx5IiwiYXJndW1lbnRzIiwibXVzY2xlcyIsInBvc3REZVNlcmlhbGl6ZSIsImNyZWF0ZVJlZHVjZWRMaXN0UHJvcGVydHkiLCJhY2N1IiwibXVzY2xlIiwiZ2V0VG90YWxNdXNjbGVzIiwiYmluZCIsImNyZWF0ZU11c2NsZUNvbGxlY3Rpb24iLCJwYXJlbnQiLCJwdXNoIiwiY3JlYXRlTXVzY2xlQmFzaWMiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE1BQU0sQ0FBQyxDQUFDLG9CQUFELEVBQXVCLFVBQXZCLEVBQW1DLGVBQW5DLENBQUQsRUFBc0QsVUFBVUMsRUFBVixFQUFjQyxNQUFkLEVBQXNCQyxXQUF0QixFQUFtQztBQUUzRixNQUFJQyxnQkFBZ0IsR0FBR0gsRUFBRSxDQUFDSSxJQUFILENBQVFDLGtCQUFSLENBQTJCSixNQUEzQixFQUFtQztBQUV0REssSUFBQUEsSUFBSSxFQUFFLGNBQVVDLE1BQVYsRUFBa0I7QUFDcEJOLE1BQUFBLE1BQU0sQ0FBQ08sU0FBUCxDQUFpQkYsSUFBakIsQ0FBc0JHLEtBQXRCLENBQTRCLElBQTVCLEVBQWtDQyxTQUFsQztBQUNBLFdBQUtDLE9BQUwsR0FBZUosTUFBTSxDQUFDSSxPQUFQLElBQWtCLEVBQWpDO0FBQ0EsV0FBS0MsZUFBTDtBQUNILEtBTnFEO0FBUXREQSxJQUFBQSxlQUFlLEVBQUUsMkJBQVk7QUFDekJaLE1BQUFBLEVBQUUsQ0FBQ2EseUJBQUgsQ0FBNkIsSUFBN0IsRUFBbUMsY0FBbkMsRUFBbUQsS0FBS0YsT0FBeEQsRUFBaUUsVUFBVUcsSUFBVixFQUFnQkMsTUFBaEIsRUFBd0I7QUFDckYsZUFBT0QsSUFBSSxHQUFDQyxNQUFNLENBQUNDLGVBQVAsRUFBWjtBQUNILE9BRmdFLENBRS9EQyxJQUYrRCxDQUUxRCxJQUYwRCxDQUFqRSxFQUVjLENBRmQ7QUFHSCxLQVpxRDtBQWN0REMsSUFBQUEsc0JBQXNCLEVBQUUsZ0NBQVVYLE1BQVYsRUFBa0I7QUFDdENBLE1BQUFBLE1BQU0sQ0FBQ1ksTUFBUCxHQUFnQixJQUFoQjtBQUNBLFVBQUlKLE1BQU0sR0FBRyxJQUFJWixnQkFBSixDQUFxQkksTUFBckIsQ0FBYjtBQUNBLFdBQUtJLE9BQUwsQ0FBYVMsSUFBYixDQUFrQkwsTUFBbEI7QUFDQSxhQUFPQSxNQUFQO0FBQ0gsS0FuQnFEO0FBcUJ0RE0sSUFBQUEsaUJBQWlCLEVBQUUsMkJBQVVkLE1BQVYsRUFBa0I7QUFDakNBLE1BQUFBLE1BQU0sQ0FBQ1ksTUFBUCxHQUFnQixJQUFoQjtBQUNBLFVBQUlKLE1BQU0sR0FBRyxJQUFJYixXQUFKLENBQWdCSyxNQUFoQixDQUFiO0FBQ0EsV0FBS0ksT0FBTCxDQUFhUyxJQUFiLENBQWtCTCxNQUFsQjtBQUNBLGFBQU9BLE1BQVA7QUFDSDtBQTFCcUQsR0FBbkMsQ0FBdkI7QUE4QkEsU0FBT1osZ0JBQVA7QUFFSCxDQWxDSyxDQUFOIiwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFsnLi4vLi4vLi4vc3JjL2luZGV4JywgJy4vTXVzY2xlJywgJy4vTXVzY2xlQmFzaWMnXSwgZnVuY3Rpb24gKHR0LCBNdXNjbGUsIE11c2NsZUJhc2ljKSB7XG5cbiAgICB2YXIgTXVzY2xlQ29sbGVjdGlvbiA9IHR0LmNvcmUuZGVmaW5lRGVyaXZlZENsYXNzKE11c2NsZSwge1xuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIE11c2NsZS5wcm90b3R5cGUuaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgdGhpcy5tdXNjbGVzID0gcGFyYW1zLm11c2NsZXMgfHwgW107XG4gICAgICAgICAgICB0aGlzLnBvc3REZVNlcmlhbGl6ZSgpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBvc3REZVNlcmlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHQuY3JlYXRlUmVkdWNlZExpc3RQcm9wZXJ0eSh0aGlzLCAndG90YWxNdXNjbGVzJywgdGhpcy5tdXNjbGVzLCBmdW5jdGlvbiAoYWNjdSwgbXVzY2xlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjY3UrbXVzY2xlLmdldFRvdGFsTXVzY2xlcygpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCAwKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjcmVhdGVNdXNjbGVDb2xsZWN0aW9uOiBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICAgICAgICBwYXJhbXMucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIHZhciBtdXNjbGUgPSBuZXcgTXVzY2xlQ29sbGVjdGlvbihwYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5tdXNjbGVzLnB1c2gobXVzY2xlKTtcbiAgICAgICAgICAgIHJldHVybiBtdXNjbGU7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY3JlYXRlTXVzY2xlQmFzaWM6IGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHBhcmFtcy5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG11c2NsZSA9IG5ldyBNdXNjbGVCYXNpYyhwYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5tdXNjbGVzLnB1c2gobXVzY2xlKTtcbiAgICAgICAgICAgIHJldHVybiBtdXNjbGU7XG4gICAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgcmV0dXJuIE11c2NsZUNvbGxlY3Rpb247XG5cbn0pOyJdfQ==